<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>
	<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:p="http://primefaces.org/ui">

		<h:form id="listForm">
			<p:blockUI block="entirePage" widgetVar="bui" />
			<div>
				<p:messages id="messagesBatch" showDetail="true" />
			</div>
			<div>
				<p:dataTable id="listTable" var="item"
					value="#{seguimientoController.items}" rowKey="#{item.rutaId}"
					reflow="true" rows="5" paginator="true" sortMode="multiple">

					<p:column headerText="ID" sortable="true" style="text-align: right"
						visible="false">
						<h:outputText value="#{item.rutaId}" />
					</p:column>
					<p:column headerText="CÃ“DIGO" sortBy="#{item.codigo}"
						filterBy="#{item.codigo}">
						<h:outputText value="#{item.codigo}" />
					</p:column>
					<p:column headerText="DESCRIPCIÃ“N" sortBy="#{item.descripcion}"
						filterBy="#{item.descripcion}">
						<h:outputText value="#{item.descripcion}" />
					</p:column>
					<p:column headerText="MONITOR" sortBy="#{item.monitorNombres}"
						filterBy="#{item.monitorNombres}">
						<h:outputText value="#{item.monitorNombres}" />
					</p:column>
					<p:column headerText="ESTADO" sortBy="#{item.estadoNombre}"
						filterBy="#{item.estadoNombre}">
						<h:outputText value="#{item.estadoNombre}" />
					</p:column>
					<p:column headerText="DESTINO" sortBy="#{item.ultimoSentido}"
						filterBy="#{item.destino}">
						<h:outputText value="#{item.destino}" />
					</p:column>
					<p:column headerText="PARADA ACTUAL" sortBy="#{item.ultimoSentido}"
						filterBy="#{item.destino}">
						<h:outputText value="#{item.paradaActual}" /> de <h:outputText
							value="#{item.totalParadas}" />
					</p:column>
					<p:column headerText="ALUMNOS ABORDO"
						sortBy="#{item.pasajerosAbordo}"
						filterBy="#{item.pasajerosAbordo}">
						<h:outputText value="#{item.pasajerosAbordo}" />
					</p:column>
					<p:column headerText="OPCIONES" style="text-align: center">
						<p:commandButton icon="fa fa-plus"
							actionListener="#{seguimientoController.detailListener(item)}"
							update="detailDialog" onclick="PF('bui').show()"
							oncomplete="PF('detailDialog').show();PF('bui').hide()"
							resetValues="true" />
					</p:column>
				</p:dataTable>
			</div>
			<div class="footer-commands-container">
				<div class="footer-commands-content">
					<p:button value="CANCELAR" outcome="home">
						<f:param name="idSesion" value="#{userPreferences.sesionId}" />
					</p:button>
				</div>
			</div>
		</h:form>
	</ui:composition>
</h:body>
</html>