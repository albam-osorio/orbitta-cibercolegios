<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>
	<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:p="http://primefaces.org/ui">

		<p:dialog id="editDialog" widgetVar="editDialog" closeOnEscape="true"
			modal="true" showEffect="fade" hideEffect="fade" resizable="false"
			width="550">

			<h:form id="editForm">
				<div class="body-container">
					<div class="header-title-container">
						<div class="header-title">
							<h:outputText value="#{rutasController.edicionManager.title}" />
						</div>
					</div>
					<div class="header-subtitle-container"></div>
					<div class="body-container">
						<h:panelGroup rendered="#{rutasController.editing}">
							<h:inputHidden
								value="#{rutasController.edicionManager.model.ruta.id}" />
							<p:scrollPanel style="width:500px;height:500px;">
								<p:panel
									style="width:480px;height:490px;overflow:auto !important">
									<p:focus />
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Código" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="codigo"
												value="#{rutasController.edicionManager.model.ruta.codigo}"
												required="true" maxlength="3" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Descripción" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="descripcion"
												value="#{rutasController.edicionManager.model.ruta.descripcion}"
												required="true" maxlength="100" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Marca vehículo" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="marca"
												value="#{rutasController.edicionManager.model.ruta.marca}"
												required="true" maxlength="100" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Placa vehículo" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="placa"
												value="#{rutasController.edicionManager.model.ruta.placa}"
												required="true" maxlength="100" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />

										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Capacidad máxima" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="capacidadMaxima"
												value="#{rutasController.edicionManager.model.ruta.capacidadMaxima}"
												required="true" maxlength="3" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-12">
											<p:outputLabel value="Conductor" style="font-weight: bold;" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Nombre conductor" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="conductorNombres"
												value="#{rutasController.edicionManager.model.ruta.conductorNombres}"
												required="true" maxlength="100" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-12">
											<p:outputLabel value="Monitor" style="font-weight: bold;" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Tipo documento" />
										</div>
										<div class="ui-g-7">
											<p:selectOneMenu id="tipoIdentificacionId"
												value="#{rutasController.edicionManager.model.tipoIdentificacionId}"
												filter="true" filterMatchMode="startsWith">
												<p:ajax
													listener="#{rutasController.edicionManager.onChangeIdentificacion}"
													process="@this numeroIdentificacion" update="nombreMonitor" />
												<f:selectItem noSelectionOption="true" itemLabel="" />
												<f:selectItems
													value="#{rutasController.edicionManager.listaTipoDocumento}" />
											</p:selectOneMenu>
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Número documento" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="numeroIdentificacion"
												value="#{rutasController.edicionManager.model.numeroIdentificacion}">
												<p:ajax
													listener="#{rutasController.edicionManager.onChangeIdentificacion}"
													process="@this tipoIdentificacionId" update="nombreMonitor" />
											</p:inputText>
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4"></div>
										<div class="ui-g-7">
											<h:outputText id="nombreMonitor"
												value="#{rutasController.edicionManager.model.nombreMonitor}">
											</h:outputText>
										</div>
										<div class="ui-g-1"></div>
									</div>
									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Móvil" />
										</div>
										<div class="ui-g-7">
											<p:inputText id="movil"
												value="#{rutasController.edicionManager.model.ruta.movil}"
												required="true" maxlength="10" />
										</div>
										<div class="ui-g-1">
											<p:message for="@previous" display="icon" />
										</div>
									</div>
									<div class="ui-g">
										<div class="ui-g-12">
											<p:outputLabel value="Dirección sede"
												style="font-weight: bold;" />
										</div>
									</div>

									<div class="ui-g">
										<div class="ui-g-4">
											<p:outputLabel for="@next" value="Tipo" />
										</div>
										<div class="ui-g-7">
											<p:selectOneRadio id="usarDireccionExistente"
												value="#{rutasController.edicionManager.model.usarDireccionExistente}">
												<p:ajax
													listener="#{rutasController.edicionManager.onChangeUsarDireccionExistente}"
													process="@this" update="direccionNueva direccionExistente" />
												<f:selectItem itemLabel="Existente" itemValue="#{true}" />
												<f:selectItem itemLabel="Nueva" itemValue="#{false}" />
											</p:selectOneRadio>
										</div>
										<p:message for="@previous" display="icon" />
									</div>

									<h:panelGroup id="direccionNueva">
										<h:panelGroup
											rendered="#{!rutasController.edicionManager.model.usarDireccionExistente}">
											<div class="ui-g">
												<div class="ui-g-4">
													<p:outputLabel for="@next" value="Departamento" />
												</div>
												<div class="ui-g-7">
													<p:selectOneMenu id="departamento"
														value="#{rutasController.edicionManager.model.departamentoId}"
														filter="true" filterMatchMode="contains"
														style="width:10em;">
														<p:ajax
															listener="#{rutasController.edicionManager.onChangeDepartamento}"
															process="@this" update="ciudad" />
														<f:selectItem noSelectionOption="true" itemLabel="" />
														<f:selectItems
															value="#{rutasController.edicionManager.listaDepartamento}" />
													</p:selectOneMenu>
												</div>
												<div class="ui-g-1">
													<p:message for="@previous" display="icon" />
												</div>
											</div>
											<div class="ui-g">
												<div class="ui-g-4">
													<p:outputLabel for="@next" value="Ciudad" />
												</div>
												<div class="ui-g-7">
													<p:selectOneMenu id="ciudad"
														value="#{rutasController.edicionManager.model.ciudadId}"
														filter="true" filterMatchMode="contains"
														style="width:10em;">
														<f:selectItem noSelectionOption="true" itemLabel="" />
														<f:selectItems
															value="#{rutasController.edicionManager.listaCiudad}" />
													</p:selectOneMenu>
												</div>
												<div class="ui-g-1">
													<p:message for="@previous" display="icon" />
												</div>
											</div>
											<div class="ui-g">
												<div class="ui-g-4">
													<p:outputLabel for="@next" value="Dirección nueva" />
												</div>
												<div class="ui-g-7">
													<p:inputText id="direccion"
														value="#{rutasController.edicionManager.model.direccionNueva}"
														maxlength="100" />
												</div>
												<div class="ui-g-1">
													<p:message for="@previous" display="icon" />
												</div>
											</div>
										</h:panelGroup>
									</h:panelGroup>
									<h:panelGroup id="direccionExistente">
										<h:panelGroup
											rendered="#{rutasController.edicionManager.model.usarDireccionExistente}">

											<div class="ui-g">
												<div class="ui-g-4">
													<p:outputLabel for="@next" value="Dirección" />
												</div>
												<div class="ui-g-7">
													<p:selectOneMenu
														value="#{rutasController.edicionManager.model.ruta.direccionSedeId}"
														filter="true" filterMatchMode="contains"
														style="width:10em;" label="Dirección">
														<p:ajax
															listener="#{rutasController.edicionManager.onChangeDireccionExistente}"
															process="@this" update="direccionExistenteCompleta" />
														<f:selectItem noSelectionOption="true" itemLabel="" />
														<f:selectItems
															value="#{rutasController.edicionManager.listaDireccion}" />
													</p:selectOneMenu>
												</div>
												<div class="ui-g-1">
													<p:message for="@previous" display="icon" />
												</div>
											</div>
											<div class="ui-g">
												<div class="ui-g-4"></div>
												<div class="ui-g-7">
													<h:outputText id="direccionExistenteCompleta"
														value="#{rutasController.edicionManager.model.direccionExistente}" />
												</div>
												<div class="ui-g-1"></div>
											</div>
										</h:panelGroup>
									</h:panelGroup>
								</p:panel>
							</p:scrollPanel>

							<p:keyFilter for="codigo" mask="pint" preventPaste="false" />
							<p:keyFilter for="capacidadMaxima" mask="pint"
								preventPaste="false" />
							<p:keyFilter for="numeroIdentificacion" mask="pint"
								preventPaste="false" />
							<p:keyFilter for="movil" mask="pint" preventPaste="false" />
						</h:panelGroup>
					</div>
					<div class="footer-commands-container">
						<div class="footer-commands-content">
							<p:commandButton
								value="#{rutasController.edicionManager.actionLabel}"
								action="#{rutasController.save}" process="@form"
								update="@form listForm"
								oncomplete="handleComplete(xhr, status, args, 'editDialog')" />
							<p:commandButton value="Cancelar" ajax="true" immediate="true"
								oncomplete="PF('editDialog').hide()" />
						</div>
					</div>
				</div>
			</h:form>
		</p:dialog>
	</ui:composition>
</h:body>
</html>